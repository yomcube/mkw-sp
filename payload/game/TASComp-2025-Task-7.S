#include <Common.S>

// 045675dc 38600000
PATCH_REPLACE_START(TASComp2025Task7_A, 0)
	li	r3, 0
PATCH_REPLACE_END(TASComp2025Task7_A, 0)

// 045675e0 4e800020
PATCH_REPLACE_START(TASComp2025Task7_B, 0)
	blr
PATCH_REPLACE_END(TASComp2025Task7_B, 0)

// 047ba160 38600006
PATCH_REPLACE_START(TASComp2025Task7_C, 0)
	li	r3, 6
PATCH_REPLACE_END(TASComp2025Task7_C, 0)

// 02799CD0 00004800
PATCH_REPLACE_START(TASComp2025Task7_D1, 0)
	b	TASComp2025Task7_D2
PATCH_REPLACE_END(TASComp2025Task7_D1, 0)

// 047BA008 60000000
PATCH_REPLACE_START(TASComp2025Task7_E, 0)
	nop
PATCH_REPLACE_END(TASComp2025Task7_E, 0)

// 02827584 00004800
PATCH_REPLACE_START(TASComp2025Task7_F1, 0)
	b	TASComp2025Task7_F2
PATCH_REPLACE_END(TASComp2025Task7_F1, 0)

// 04828ed4 60000000
PATCH_REPLACE_START(TASComp2025Task7_G, 0)
	nop
PATCH_REPLACE_END(TASComp2025Task7_G, 0)

// 04828edc 60000000
PATCH_REPLACE_START(TASComp2025Task7_H, 0)
	nop
PATCH_REPLACE_END(TASComp2025Task7_H, 0)

// 04828eec 60000000
PATCH_REPLACE_START(TASComp2025Task7_I, 0)
	nop
PATCH_REPLACE_END(TASComp2025Task7_I, 0)

// 007997FB 00000014
PATCH_REPLACE_START(TASComp2025Task7_J, 0)
	li	r4, 20
PATCH_REPLACE_END(TASComp2025Task7_J, 0)

// c27981b8 00000006
// 901d0239 815d0000
// 814a0000 814a0010
// 2c0a0000 41820014
// 39400014 39200000
// 915d008c 913d0090
// 60000000 00000000
PATCH_BL_START(TASComp2025Task7_K, 0)
	stw	r0, 569(r29)
	lwz	r10, 0(r29)
	lwz	r10, 0(r10)
	lwz	r10, 16(r10)
	cmpwi	r10, 0x0
	beq-	loc_0x28
	li	r10, 0x14
	li	r9, 0x0
	stw	r10, 140(r29)
	stw	r9, 144(r29)

	loc_0x28:

PATCH_BL_END(TASComp2025Task7_K, 0)

// 047a14d4 38600000
PATCH_REPLACE_START(TASComp2025Task7_L, 0)
	li	r3, 0
PATCH_REPLACE_END(TASComp2025Task7_L, 0)

// 047a14dc 4e800020
PATCH_REPLACE_START(TASComp2025Task7_M, 0)
	blr
PATCH_REPLACE_END(TASComp2025Task7_M, 0)

// C2790E94 00000002
// 3A600010 92640004
// 60000000 00000000
PATCH_BL_START(TASComp2025Task7_N, 0)
	li	r19, 0x10
	stw	r19, 4(r4)
PATCH_BL_END(TASComp2025Task7_N, 0)

// 047a5d88 4e800020
PATCH_REPLACE_START(TASComp2025Task7_O, 0)
	blr
PATCH_REPLACE_END(TASComp2025Task7_O, 0)

// c25556a8 00000004
// 7c0802a6 48000009
// 00000000 7d4802a6
// c02a0000 7c0803a6
// 4e800020 00000000
PATCH_BL_START(TASComp2025Task7_P, 0)
	mflr	r0
	bl	loc_0xC
	nop

	loc_0xC:
		mflr	r10
		lfs	f1, 0(r10)
		mtlr	r0
		blr

PATCH_BL_END(TASComp2025Task7_P, 0)
